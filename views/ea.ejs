<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link href='https://unpkg.com/boxicons@2.1.2/css/boxicons.min.css' rel='stylesheet'>

    <title>CRUD</title>
    <style type="text/css">
  
    h1{
    padding: 20px;
    color:#ff9900 ;
    font-family: sans-serif;
    letter-spacing: 2px;
    font-size: 22px;
  }nav{
    
    display: flex;
    flex-direction: column;
    padding: 6px;
    font-family: monospace;

  }
  nav a{
    text-decoration: none;
    color: #fff;
    padding: 10px;
     transition: all 200ms ease;
     font-size: 25px;
  }
  nav div{
    background: #67dd;
    padding: 5px;
    border-radius: 20px;
    margin: 1px;
    transition: all 200ms ease;
  }
  nav div:hover{
    background: #dde;
  
  }
  nav div:hover a{
    color: #67dd;
  }

.card{
  background-color: midnightblue;
  display: grid;
  grid-template-columns: 1fr 1fr ;
 justify-items: center;
  margin: 9px;
  border: 0;
}


.gasoil,
.ventas,
.empleados,
.alquiler,
.feria{
background-color: #2BBFA1;
width: 188px;
height: 188px;
margin: 10px;
border-radius: 20px;
color: #fff;
display: flex;
flex-direction: column;
justify-content: center;
text-align: center;
padding-top: 20px;
box-shadow: 1px 1px 10px 1px  #2BBFA1;

}
.gasoil{
background-color: #D0396B;  
box-shadow: 1px 1px 10px 1px #D0396B;
}
.ventas{
background-color:#AF70BD;
box-shadow: 1px 1px 10px 1px #AF70BD; 
}
.empleados{
background-color:#ff9900;
box-shadow: 1px 1px 10px 1px #ff9900; 
}
.alquiler{
background-color:#65AFD2;
box-shadow: 1px 1px 10px 1px #65AFD2; 
}
.numero{
  font-size: 34px;
}
.cuenta{
  font-size: 20px;
}
form{
  display: flex;
  color: #fff;
   justify-content: center;
}
.desde,
.hasta{
  text-align: center;
  padding: 5px;
  font-size: 25px;
  margin:0 10px;
}
input[type='date']{
color: midnightblue;
  font-size: 22px;
  border-radius: 10px;
  height: 40px;
  padding: 5px;

}

input[type='submit']{
  font-size: 20px;
  position: relative;
  top: 80px;
  left: 19px;
  padding: 5px;
  height: 40px;
  border-radius: 10px;
  color: midnightblue;
  background:#fff ;

}
.act{
  display: grid;
  grid-template-columns: 1fr 1fr;
  justify-items: center;
 
 

}
.tabla{


  color: #fff;
  padding: 2px;
  font-size: 25px;
  padding: 5px;
  margin: 5px;
}
#gasoil{
  color: #D0396B;
  font-weight: 600;
  font-size: 18px;
  
}
#ventas{
  color:#AF70BD;
  font-weight: 600;
  font-size: 18px;
  
}
#empleados{
  color:#ff9900;
  font-weight: 600;
  font-size: 18px;
  
}
#alquiler{
  color:#65AFD2;
  font-weight: 600;
  font-size: 18px;
  
}
#feria{
  color: #2BBFA1;
  font-weight: 600;
  font-size: 18px;

}




</style>
  </head>
  <body  style="background-color: midnightblue;" >

 <nav class="navegador">
   <div><a href="/">Inicio</a></div>
  <div><a href="/create">Cargar</a></div>
   <div><a href="/avanzado">Avanzado</a></div>
    <div style="background-color:  #ff9900"><a style="color:#fff">Movimientos</a></div>
  
 
</nav>
<div class="info">

  <form action="/ea" method="post">
    <div class="desde">
      desde <br>
      <br>  <span><input type="date" name="desde" id="desde"></span>
    </div>

    <div class="hasta">
      hasta <br>
      <br>   <span><input type="date" name="hasta" id="hasta"></span>
    </div>
    <br><br>    
    <input type="submit" name="" id="" value="Filtrar">
  </form>
</div>



 
     
 <!-- 
    <div ><a  href="/ea/<%=`enero` %>">Enero</a></div>
    <div ><a  href="/ea/<%=`febrero` %>">febrero</a></div >
    <div ><a  href="/ea/<%=`marzo` %>">marzo</a></div>
    <div ><a  href="/ea/<%=`abril`%>">abril</a></div>
    <div ><a  href="/ea/<%=`mayo` %>">Mayo</a></div>
    <div ><a  href="/ea/<%=`junio` %>">junio</a></div>
    <div ><a  href="/ea/<%=`julio`%>">julio</a></div>
    <div ><a  href="/ea/<%=`agosto` %>">agosto</a></div>
    <div ><a  href="/ea/<%=`septiembre` %>">septiembre</a></div>
    <div ><a  href="/ea/<%=`octubre` %>">octubre</a></div>
    <div ><a  href="/ea/<%=`noviembre` %>">noviembre</a></div>
    <div ><a  href="/ea/<%=`diciembre` %>">diciembre</a></div> -->

 


   
            <% 


      
        
        var venta = 0;
        var feria = 0;
        var alquileres = 0;
        var combustible = 0;
        var empleados = 0;
        
        var ventaCta = 0;
        var feriaCta = 0;
        var alquileresCta = 0;
        var gasoilCta = 0;
        var empleadosCta = 0;

        var dias = 0;

     



        results.forEach((sic)=>{ 



                

                  dias ++;

                  if(sic.feria!=0){
                    feriaCta++;
                  }
                  if(sic.alquileres!=0){
                    alquileresCta++;
                  }
                  if(sic.ventas!=0){
                    ventaCta++;
                  }
                  if(sic.combustible!=0){
                    gasoilCta++;
                  }
                  if(sic.empleados!=0){
                    empleadosCta++;
                  }
                  


                  venta+=sic.ventas;
                  feria+=sic.feria;
                  alquileres+=sic.alquileres;
                  combustible+=sic.combustible;
                  empleados+=sic.empleados;
                 

         })%>

<div class="card"> 

              <div class="feria">
                <div class="numero">$ <%=feria%></div>
                <div class="cuenta">feria</div>
              </div>
              <div class="gasoil">
                <div class="numero">$ <%=combustible%></div>
                <div class="cuenta">gasoil</div>  
              </div>
              <div class="ventas">
                <div class="numero">$ <%=venta%></div>
                <div class="cuenta">ventas</div>  
              </div>
              <div class="empleados">
                <div class="numero">$ <%=empleados%></div>
                <div class="cuenta">empleados</div> 
              </div>
              <div class="alquiler">
                <div class="numero">$ <%=alquileres%></div>
                <div class="cuenta">alquiler</div>  
              </div>

</div>
 <div style="display: flex; flex-direction: column;align-items: center;"><h1>Dias seleccionados:  [<%=dias%>] </h1>  <h1>Dias activos :  [<%=dias%>] </h1> </div>

<div class=act >



    <div style="display: flex;flex-direction: column;" >
      <div class="tabla">feria</div><span style="text-align: center;" id="feria"> [<%=feriaCta%>]</span>
    </div>
    
    <div style="display: flex;flex-direction: column;" >
      <div class="tabla">gasoil</div><span  style="text-align: center;" id="gasoil"> [<%=gasoilCta%>]</span>
    </div>
      
    <div style="display: flex;flex-direction: column;" >
      <div class="tabla">ventas</div><span  style="text-align: center;" id="ventas"> [<%=ventaCta%>]</span>
    </div>

    <div style="display: flex;flex-direction: column;" >
      <div class="tabla">empleados</div><span style="text-align: center;" id="empleados">[<%=empleadosCta%>]</span>
    </div>

    <div style="display: flex;flex-direction: column;" >
      <div class="tabla">alquiler</div><span  style="text-align: center;" id="alquiler">[<%=alquileresCta%>]</span>
    </div>

</div>


   



<div class="graficos" style="display: flex;padding:50px;font-size: 30px;height: 60px;width:100%;justify-content: center ;position: relative  ;margin: 20px;border-bottom: 2px solid  silver;">
  <div style="display: flex;;padding: 0px 0;">

      <div id="enero" style="margin:0 12px;background:  #2BBFA1;width:53px;height: <%=35+feria*.0006  %>px;position: absolute;bottom: 0px;left:  325px;color: #fff;text-align: center;border-top-left-radius: 20px;border-top-right-radius: 20px;font-size:20px">^</div>

      <div id="enero" style="margin: 0 12px;background: #D0396B;width:53px;height: <%=35+combustible*.0006%>px;position: absolute;bottom: 0px;left: 245px;color: #fff;text-align: center;border-top-left-radius: 20px;border-top-right-radius: 20px;font-size:20px">^
      </div>

      <div id="enero" style="margin: 0 12px;background:#AF70BD ;width:53px;height: <%=35+venta*.0006%>px;position: absolute;bottom: 0px;left:  165px;color: #fff;text-align: center;border-top-left-radius: 20px;border-top-right-radius: 20px;font-size:20px">^

      </div>

      <div id="enero" style="margin: 0 12px;background: #65AFD2;width:53px;height: <%=35+alquileres*.0006%>px;position: absolute;bottom: 0px;left: 85px;color: #fff;text-align: center;border-top-left-radius: 20px;border-top-right-radius: 20px;font-size:20px">^</div> 

      <div id="enero" style="margin: 0 12px;background: #ff9900;width:53px;height: <%=35+empleados*.0006%>px;position:absolute;bottom: 0px;left:  5px;color: #fff;text-align: center;border-top-left-radius: 20px;border-top-right-radius: 20px;font-size:20px">^</div>
  </div>    
</div>     
  

    
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

   
  </body>
</div>
</html>
